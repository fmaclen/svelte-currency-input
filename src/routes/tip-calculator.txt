<script lang="ts">
	import { CurrencyInput, formatValue } from '@canutin/svelte-currency-input';

	const intlConfig = { locale: 'es-AR', currency: 'ARS' };
	let billFloat = $state(250.75);
	let tipPercent = $state(18);

	let tipAmount = $derived(((billFloat * tipPercent) / 100).toFixed(2));
	let totalAmount = $derived((billFloat + Number(tipAmount)).toFixed(2));
</script>

<CurrencyInput
	value={String(billFloat)}
	oninputvalue={(v) => (billFloat = v.float ?? 0)}
	{intlConfig}
/>

<input type="range" bind:value={tipPercent} min="0" max="30" />

Tip: {formatValue({ value: tipAmount, intlConfig })}
Total: {formatValue({ value: totalAmount, intlConfig })}
